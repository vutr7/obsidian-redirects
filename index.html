<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Obsidian Redirect</title>
  <script>
    (function () {
      var params = new URLSearchParams(window.location.search);
      var t = params.get("t");

      // Mapping: Kurzname -> Obsidian-URI
      var redirects = {
        tagesnotiz: "obsidian://advanced-uri?vault=MINH%20TRUNG%20VU&daily=true",
        erfolge: "obsidian://advanced-uri?vault=MINH%20TRUNG%20VU&filepath=04%20Journal/Erfolge.md",
        optimierung: "obsidian://quickadd?choice=Optimierung"
      };

      var target = redirects[t];

      function showFallback() {
        var fb = document.getElementById("fallback");
        var link = document.getElementById("link");
        if (target) link.href = target;
        fb.style.display = "block";
      }

      if (target) {
        // Sofort weiterleiten
        window.location.href = target;
        // Fallback nach 1500 ms anzeigen
        setTimeout(showFallback, 1500);
      } else {
        document.getElementById("unknown").style.display = "block";
      }
    })();
  </script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 2rem; }
    #fallback, #unknown { display: none; }
  </style>
</head>
<body>
  <h1>Redirect laeuft ...</h1>
  <p id="fallback">
    Wenn Obsidian nicht automatisch startet, bitte
    <a id="link" href="#">hier klicken</a>.
  </p>
  <p id="unknown"><strong>Kein Redirect gefunden.</strong> Beispiel: <code>?t=erfolge</code></p>
</body>
</html>
